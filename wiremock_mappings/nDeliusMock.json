{
  "mappings": [
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/.*/personal-details"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "crn": "X718255",
          "name": {
            "forename": "David",
            "surname": "Clarke"
          },
          "dateOfBirth": "1981-04-15",
          "age": 48,
          "ethnicity": {
            "code": "W1",
            "description": "White"
          },
          "sex": {
            "code": "M",
            "description": "Male"
          },
          "probationPractitioner": {
            "name": {
              "forename": "John",
              "middleNames": "Alex",
              "surname": "Dobbs"
            },
            "code": "PRAC01",
            "email": "prob.officer@example.com"
          },
          "probationDeliveryUnit": {
            "code": "LON",
            "description": "London"
          }
        }
      }
    },
    {
      "request": {
        "method": "POST",
        "urlPathPattern": "/user/.*/access"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": "{\"access\": [{{#each (jsonPath request.body '$[*]') as |crn|}}{{#unless @first}},{{/unless}}{\"crn\": \"{{crn}}\", \"userExcluded\": false, \"userRestricted\": false}{{/each}}]}",
        "transformers": [
          "response-template"
        ]
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/[^/]+/sentence/[^/]+$"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "description": "ORA Community Order (6 Months)",
          "startDate": "2024-09-24",
          "expectedEndDate": "2025-03-23",
          "custodial": false,
          "licenceConditions": [],
          "requirements": [
            {
              "code": "RARREQ",
              "description": "Rehabilitation Activity Requirement (RAR)"
            },
            {
              "code": "724",
              "description": "Building Skills for Recovery (BSR)"
            },
            {
              "code": "CSPE06",
              "description": "Curfew"
            }
          ],
          "postSentenceSupervisionRequirements": []
        },
        "transformers": [
          "response-template"
        ]
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/case/[^/]+/sentence/[^/]+/offences$"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "mainOffence": {
            "date": "2021-05-01",
            "mainCategoryCode": "056",
            "mainCategoryDescription": "Arson",
            "subCategoryCode": "23",
            "subCategoryDescription": "Arson"
          },
          "additionalOffences": [
            {
              "date": "2021-07-01",
              "mainCategoryCode": "012",
              "mainCategoryDescription": "Abandoning children under two years",
              "subCategoryCode": "00",
              "subCategoryDescription": "Abandoning children under two years - contrary to section 27 of the Offences against the person Act 1861"
            }
          ]
        }
      }
    }
  ]
}
